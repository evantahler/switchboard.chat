<div ng-controller="person:thread">

  <div ng-if="person">

    <h2>Messages with {{person.firstName}} {{person.lastName}}</h2>
    <p>{{total}} total messages with this person</p>

    <form ng-submit="processForm()">

      <div class="alert alert-dismissible alert-danger" ng-show="error">
        <button type="button" class="close" data-dismiss="alert">×</button>
        {{ error }}
      </div>

      <div class="alert alert-dismissible alert-success" ng-show="success">
        <button type="button" class="close" data-dismiss="alert">×</button>
        {{ success }}
      </div>

      <div class="form-group">
        <label>Message</label>
        <input type="text" name="body" class="form-control input-sm" placeholder="hi!" ng-model="formData.body">
      </div>

      <button type="submit" class="btn btn-primary btn-sm">
        <span class="glyphicon glyphicon-flash"></span> Send Message
      </button>

    </form>

  </div>
  
  <div ng-if="person" ng-include="'pages/shared/message-table.html'"></div> 

  <div ng-if="!person">
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>Choose a Person from the list (or create one) to see your messages.</p>
  </div>

</div>
